<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Space Probes - Interactive Experience</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Michroma&family=Gowun+Dodum&display=swap');
        
        body { 
            font-family: 'Rajdhani', sans-serif; 
            overflow: hidden; 
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
            color: white;
            margin: 0;
        }
        .font-header-sci { font-family: 'Michroma', sans-serif; letter-spacing: 0.05em; }
        .font-mono-sci { font-family: 'Rajdhani', sans-serif; }
        .font-terminal { font-family: 'Gowun Dodum', sans-serif; letter-spacing: -0.02em; }
        
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(249,115,22,0.5); border-radius: 2px; }

        @keyframes animStar {
            from { transform: translateX(-2500px); }
            to { transform: translateX(2500px); }
        }

        @keyframes revealImage {
            0% { clip-path: inset(0 0 100% 0); opacity: 0.5; }
            100% { clip-path: inset(0 0 0 0); opacity: 1; }
        }

        @keyframes moveLaser {
            0% { top: 0; opacity: 1; box-shadow: 0 0 5px #f97316; }
            50% { opacity: 1; box-shadow: 0 0 20px #f97316, 0 0 10px white; }
            100% { top: 100%; opacity: 0; }
        }

        @keyframes scanFast {
            0% { top: -100%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 200%; opacity: 0; }
        }

        @keyframes drawVertical {
          0% { height: 0; top: 0; opacity: 0; }
          20% { opacity: 1; }
          100% { height: 100%; top: 0; opacity: 1; }
        }

        @keyframes popupUp {
            0% { transform: translateY(100px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .animate-draw-vertical {
            animation: drawVertical 1.5s cubic-bezier(0.45, 0, 0.55, 1) forwards;
        }

        .scan-active .scannable-image {
            clip-path: inset(0 0 100% 0);
            animation: revealImage 2.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            animation-delay: 0.5s;
        }
        
        .scan-active .laser-beam {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: #fff;
            z-index: 20;
            opacity: 0;
            animation: moveLaser 2.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            animation-delay: 0.5s;
        }

        .page-transition {
            transition: transform 1s cubic-bezier(0.65, 0, 0.35, 1);
        }

        .popup-card-visible {
            animation: popupUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // --- Data ---
        const probesData = [
          {
            id: 'pioneer', index: '01', name: 'PIONEER 10', year: '1972', mission: 'JUPITER & SOLAR ESCAPE',
            description: '인류 최초로 위험한 소행성대를 통과하고 목성을 근접 탐사하여 외행성 탐사의 가능성을 증명한 기념비적인 우주선입니다. 이 탐사선은 목성의 강력한 방사선대와 자기장을 발견하는 과학적 성과를 거두었고, 태양계를 벗어나는 궤도에 진입한 최초의 인공물로서 외계 지적 생명체에게 보내는 메시지가 담긴 금속판을 품은 채 2003년 마지막 교신을 끝으로 현재 황소자리의 알데바란을 향해 영원한 항해를 지속하고 있습니다.',
            image: 'pic/pioneer_a.png', 
            specs: [{ label: 'Status', value: 'Signal Lost' }, { label: 'Launch', value: 'March 2, 1972' }, { label: 'Dist', value: '133 AU' }],
            gallery: ['pic/pioneer_1.png', 'pic/pioneer_2.png', 'pic/pioneer_3.png', 'pic/pioneer_4.png', 'pic/pioneer_5.png']
          },
          {
            id: 'viking', index: '02', name: 'VIKING', year: '1975', mission: 'MARS LANDING',
            description: '붉은 행성, 화성에 착륙하여 생명체의 흔적을 찾은 최초의 성공적인 미션입니다.',
            image: 'pic/viking_a.png',
            specs: [{ label: 'Status', value: 'Signal Lost' }, { label: 'Launch', value: 'Aug 20, 1975' }, { label: 'Result', value: 'Success' }],
            gallery: ['pic/viking_1.png', 'pic/viking_2.png', 'pic/viking_3.png', 'pic/viking_4.png', 'pic/viking_5.png']
          },
          {
            id: 'voyager', index: '03', name: 'VOYAGER', year: '1977', mission: 'THE GRAND TOUR',
            description: '목성, 토성, 천왕성, 해왕성을 모두 방문하며 인류의 시야를 태양계 끝까지 확장했습니다.',
            image: 'pic/voyager_a.png',
            specs: [{ label: 'Status', value: 'Stable' }, { label: 'Launch', value: 'Sept 5, 1977' }, { label: 'Loc', value: 'Interstellar' }],
            gallery: ['pic/voyager_1.png', 'pic/voyager_2.png', 'pic/voyager_3.png', 'pic/voyager_4.png', 'pic/voyager_5.png']
          },
          {
            id: 'galileo', index: '04', name: 'GALILEO', year: '1989', mission: 'JUPITER ORBITER',
            description: '목성의 대기 속으로 탐사정을 투하하고, 유로파의 얼음 바다 가능성을 제시했습니다.',
            image: 'pic/galileo_a.png',
            specs: [{ label: 'Status', value: 'Signal Lost' }, { label: 'Launch', value: 'Oct 18, 1989' }, { label: 'Orbit', value: 'Jupiter' }],
            gallery: ['pic/galileo_1.png', 'pic/galileo_2.png', 'pic/galileo_3.png', 'pic/galileo_4.png', 'pic/galileo_5.png']
          },
          {
            id: 'horizons', index: '05', name: 'NEW_HORIZONS', year: '1989', mission: 'Pluto and Kuiper Belt Exploration',
            description: '명왕성 및 카이퍼 벨트 탐사를 위해 발사되어 인류 최초로 명왕성 근접 촬영 및 상세 데이터를 전송한 무인 탐사선으로, 명왕성, 카론, 아로코트 등을 탐사하고 현재 카이퍼 벨트 천체들을 계속 탐사 중인 중요한 임무를 수행하고 있습니다. ',
            image: 'pic/horizons_a.png',
            specs: [{ label: 'Status', value: 'Signal Lost' }, { label: 'Launch', value: 'Jan 19, 2006' }, { label: 'Orbit', value: 'Pluto_and_Kuiper' }],
            gallery: ['pic/horizons_1.png', 'pic/horizons_2.png', 'pic/horizons_3.png', 'pic/horizons_4.png', 'pic/horizons_5.png']
          }
        ];

        // --- 별 생성 ---
        const generateStars = (n) => {
            let value = `${Math.random() * 5000}px ${Math.random() * 5000}px #FFF`;
            for (let i = 2; i <= n; i++) {
                value += `, ${Math.random() * 5000}px ${Math.random() * 5000}px #FFF`;
            }
            return value;
        };

        const StarBackground = () => {
            const smallStars = useMemo(() => generateStars(700), []);
            const mediumStars = useMemo(() => generateStars(200), []);
            const largeStars = useMemo(() => generateStars(100), []);

            return (
                <div className="fixed inset-0 z-0 pointer-events-none">
                    <div style={{ width: '1px', height: '1px', background: 'transparent', boxShadow: smallStars, animation: 'animStar 150s linear infinite' }}></div>
                    <div style={{ width: '2px', height: '2px', background: 'transparent', boxShadow: mediumStars, animation: 'animStar 300s linear infinite' }}></div>
                    <div style={{ width: '3px', height: '3px', background: 'transparent', boxShadow: largeStars, animation: 'animStar 450s linear infinite' }}></div>
                </div>
            );
        };

        // --- Utility Components ---
        const GlitchText = ({ text, isActive, speed = 40, className="" }) => {
            const [displayedText, setDisplayedText] = useState('');
            const [isGlitching, setIsGlitching] = useState(false);

            useEffect(() => {
                if (!isActive) { setDisplayedText(''); return; }
                setDisplayedText(''); setIsGlitching(true);
                let idx = 0;
                const interval = setInterval(() => {
                    if (idx <= text.length) { setDisplayedText(text.slice(0, idx)); idx++; } 
                    else { clearInterval(interval); setIsGlitching(false); }
                }, speed);
                return () => clearInterval(interval);
            }, [text, isActive]);

            return (
                <span className={`relative inline-block ${className} ${isGlitching ? 'text-orange-200 drop-shadow-[0_0_5px_rgba(255,165,0,0.8)]' : ''}`}>
                    {displayedText}
                    {isGlitching && <span className="inline-block w-2 h-4 bg-orange-500 animate-pulse ml-1 align-middle"></span>}
                </span>
            );
        };

        // --- Sections ---

        // 1. Hero
        const Hero = ({ onNext }) => {
            const handleWheel = (e) => { if (e.deltaY > 0) onNext(); };
            return (
                <section onWheel={handleWheel} className="relative h-screen w-full flex flex-col justify-center items-center overflow-hidden z-10">
                    <div className="absolute top-auto bottom-[-50vh] left-1/2 -translate-x-1/2 w-[130vh] h-[130vh] rounded-full shadow-[0_0_120px_rgba(50,100,255,0.3)] bg-black border border-white/5 z-0 overflow-hidden">
                        <video 
                            src="vid/earth.mp4" 
                            autoPlay 
                            loop 
                            muted 
                            playsInline
                            className="w-full h-full object-cover rounded-full rotate-45 opacity-60 scale-110 object-[50%_70%]"
                        ></video>
                    </div>
                    <div className="relative z-10 text-center -mt-32 w-full px-4">
                        <img src="pic/title.png" alt="Title" className="w-full max-w-4xl mx-auto h-auto object-contain drop-shadow-2xl mb-8" />
                        <p className="text-gray-400 font-pretendard font-light tracking-wide text-sm">
                            인류의 위대한 여정, 우주 탐사선 아카이브
                        </p>
                    </div>
                    <div className="absolute bottom-10 z-20 flex flex-col items-center gap-2 animate-bounce cursor-pointer" onClick={onNext}>
                        <span className="text-[10px] font-mono-sci tracking-widest text-gray-500">SCROLL DOWN</span>
                        <div className="w-px h-8 bg-gradient-to-b from-transparent via-orange-500 to-transparent"></div>
                    </div>
                </section>
            );
        };

        // 2. Intro
        const Intro = ({ isActive, onNext, onPrev }) => {
            const videoRef = useRef(null);
            useEffect(() => {
                if (isActive && videoRef.current) {
                    videoRef.current.play().catch(error => { console.log("Autoplay prevented:", error); });
                }
            }, [isActive]);

            const handleWheel = (e) => {
                if (e.deltaY > 0) onNext(); 
                else if (e.deltaY < 0) onPrev();
            };

            return (
                <section onWheel={handleWheel} className="h-screen w-full flex flex-col justify-center items-center relative p-8 z-10">
                    <div className={`relative w-full max-w-4xl h-[45vh] bg-black border border-white/10 overflow-hidden mb-12 transition-all duration-1000 ${isActive ? 'opacity-100 scale-110' : 'opacity-0 scale-95'}`}>
                        <video 
                            ref={videoRef}
                            src="vid/vid1.mp4" 
                            muted autoPlay loop playsInline 
                            className="w-full h-full object-cover opacity-80 scale-110"
                        >
                            <div className="flex items-center justify-center w-full h-full text-gray-500">Video Placeholder (vid1.mp4)</div>
                        </video>
                        <div className="absolute top-4 left-4 flex gap-2">
                            <div className="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
                            <span className="text-[10px] font-mono-sci tracking-widest text-red-500">2011. 9. 28</span>
                        </div>
                    </div>
                    <div className={`text-center space-y-6 max-w-2xl transition-all duration-1000 delay-300 ${isActive ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
                        <h2 className="text-4xl md:text-5xl font-header-sci text-white">SPACE PROBES</h2>
                        <div className="w-24 h-px bg-orange-500 mx-auto"></div>
                        <p className="text-lg md:text-xl font-pretendard font-light text-gray-300 leading-relaxed">
                            지구나 다른 천체를 탐사하기 위해 우주로 쏘아 올린 무인 관측 도구.<br/>
                            인류가 직접 가기 어려운 극한의 우주 환경에서 임무를 수행합니다. 
                        </p>
                    </div>
                </section>
            );
        };

        // 3. Detail Section Components

        const StoryGrid = ({ probeName, gallery, isActive }) => {
            const sectionRef = useRef(null);
            const [isVisible, setIsVisible] = useState(false);

            useEffect(() => {
                const observer = new IntersectionObserver(([entry]) => {
                    if (entry.isIntersecting) {
                        setIsVisible(true);
                    }
                }, { threshold: 0.1 });

                if (sectionRef.current) {
                    observer.observe(sectionRef.current);
                }

                return () => observer.disconnect();
            }, [probeName]); // probeName이 바뀌면 옵저버 재설정 (애니메이션 리셋 효과)

            // activeProbeId가 바뀌면 가시성 초기화
            useEffect(() => {
                setIsVisible(false);
            }, [probeName]);

            if (!gallery) return null;

            return (
                <div 
                    ref={sectionRef} 
                    className={`w-[90%] md:w-[75%] mx-auto mt-32 relative z-20 rounded-t-3xl shadow-[0_-20px_60px_rgba(0,0,0,0.8)] overflow-hidden transition-all duration-700
                        ${isVisible ? 'popup-card-visible opacity-100 translate-y-0' : 'opacity-0 translate-y-32'}
                    `}
                >
                    <div className="bg-gray-50 text-gray-900 px-6 md:px-16 py-16 w-full">
                        <div className="flex items-center justify-between mb-12 border-b border-gray-300 pb-6">
                            <h3 className="text-3xl font-header-sci text-gray-900">
                                MISSION <span className="text-orange-600">GALLERY</span>
                            </h3>
                            <span className="text-sm font-mono-sci text-gray-500 tracking-widest border border-gray-300 px-3 py-1 rounded-full">
                                ARCHIVE_REF: {probeName}
                            </span>
                        </div>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[300px]">
                            <div className="md:col-span-2 md:row-span-2 relative group overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm cursor-pointer">
                                <img src={gallery[0]} className="w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700" />
                                <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"></div>
                                <div className="absolute bottom-6 left-6">
                                    <span className="text-orange-400 text-xs font-mono-sci mb-1 block">MAIN ARCHIVE</span>
                                    <p className="text-white font-header-sci text-xl drop-shadow-md">Visual Log 01</p>
                                </div>
                                <div className="absolute inset-0 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">
                                    <div className="absolute w-full h-[20%] bg-gradient-to-b from-transparent via-white/30 to-transparent animate-scan-fast"></div>
                                </div>
                            </div>

                            {gallery.slice(1, 4).map((img, i) => (
                                <div key={i} className="relative group overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm cursor-pointer">
                                    <img src={img} className="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700" />
                                    <div className="absolute inset-0 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">
                                        <div className="absolute w-full h-[20%] bg-gradient-to-b from-transparent via-white/30 to-transparent animate-scan-fast" style={{ animationDelay: `${i * 0.2}s` }}></div>
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="mt-8 text-center">
                            <p className="text-gray-400 text-xs font-mono-sci tracking-widest">END OF GALLERY SECTION</p>
                        </div>
                    </div>
                </div>
            );
        };

        const DetailContent = ({ probe, isActive }) => {
            return (
                <div className="w-full min-h-screen relative z-10">
                    <div className="pl-16 md:pl-28 pr-6 md:pr-12 pt-16 max-w-[1700px] mx-auto flex flex-col justify-start">
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24 items-center min-h-[90vh] relative z-10">
                            <div className="space-y-10 order-2 lg:order-1 min-w-0">
                                <div>
                                    <h2 className="text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-none font-header-sci tracking-wider mb-2">
                                        <GlitchText text={probe.name} isActive={isActive} speed={60} />
                                    </h2>
                                    <p className="text-lg md:text-xl text-white font-light tracking-wide italic font-mono-sci">
                                        "{probe.mission}"
                                    </p>
                                </div>
                                <div className="text-gray-400 leading-relaxed max-w-md text-sm md:text-base font-terminal">
                                    <GlitchText text={probe.description} isActive={isActive} speed={30} />
                                </div>
                                <div className="pt-4 space-y-4 max-w-xs border-t border-white/10">
                                    {probe.specs.map((spec, i) => {
                                        let statusClass = "text-white font-bold";
                                        if (spec.value === 'Signal Lost') {
                                            statusClass = "text-red-500 animate-pulse font-bold";
                                        } else if (spec.value === 'Stable') {
                                            statusClass = "text-emerald-400 font-bold drop-shadow-[0_0_8px_rgba(52,211,153,0.6)]";
                                        }
                                        return (
                                            <div key={i} className="flex justify-between text-sm font-mono-sci text-gray-500 pb-2 border-b border-white/5">
                                                <span>{spec.label}</span>
                                                <span className={statusClass}>
                                                    <GlitchText text={spec.value} isActive={isActive} speed={40} />
                                                </span>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>

                            <div className="relative h-[40vh] md:h-[60vh] lg:h-[70vh] w-full flex items-center justify-center order-1 lg:order-2">
                                <div key={probe.id + isActive} className={`relative inline-block w-full h-full ${isActive ? 'scan-active' : ''}`}>
                                    <div className="laser-beam"></div>
                                    <img 
                                        src={probe.image} 
                                        alt={probe.name} 
                                        className="w-full h-full object-contain drop-shadow-[0_20px_50px_rgba(0,0,0,0.5)] block scannable-image" 
                                    />
                                    <div 
                                        className="absolute inset-0 pointer-events-none opacity-20" 
                                        style={{
                                            backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`,
                                            maskImage: `url(${probe.image})`,
                                            maskSize: 'contain',
                                            maskPosition: 'center',
                                            maskRepeat: 'no-repeat',
                                            WebkitMaskImage: `url(${probe.image})`,
                                            WebkitMaskSize: 'contain',
                                            WebkitMaskPosition: 'center',
                                            WebkitMaskRepeat: 'no-repeat',
                                            mixBlendMode: 'overlay'
                                        }}
                                    ></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <StoryGrid probeName={probe.name} gallery={probe.gallery} isActive={isActive} />
                </div>
            );
        };

        const NavBar = ({ activeId, onNavigate }) => (
            <div className="fixed left-4 md:left-8 top-0 bottom-0 flex flex-col justify-center z-50 pointer-events-none">
                <div className="relative flex flex-col gap-12 pointer-events-auto items-start">
                    <div className="absolute top-0 bottom-0 left-[7px] w-px bg-white/10 -z-10 overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-full bg-orange-500/50 animate-draw-vertical shadow-[0_0_10px_#f97316]"></div>
                    </div>

                    {probesData.map((probe, idx) => {
                        const isActive = activeId === probe.id;
                        return (
                            <button key={probe.id} onClick={() => onNavigate(probe.id)} className="group relative flex items-center gap-6">
                                <div className="w-4 h-4 flex items-center justify-center relative flex-shrink-0">
                                    <div className={`w-4 h-4 rounded-full border border-white/20 bg-[#0B0B0E] transition-all duration-500 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 box-border ${isActive ? 'border-orange-500 w-5 h-5' : 'group-hover:border-white'}`}></div>
                                    {isActive && (
                                        <>
                                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full flex items-center justify-center">
                                                <div className="w-full h-full bg-orange-500/50 rounded-full animate-ping"></div>
                                            </div>
                                            <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-orange-500 rounded-full z-10"></div>
                                        </>
                                    )}
                                </div>
                                <div className={`flex flex-col items-start transition-all duration-500 ${isActive ? 'opacity-100 translate-x-0' : 'opacity-40 -translate-x-2 group-hover:opacity-80 group-hover:translate-x-0'}`}>
                                    <span className="text-[10px] font-mono-sci text-gray-500 leading-none mb-1">{probe.index}</span>
                                    <span className={`text-xs font-bold tracking-widest uppercase whitespace-nowrap font-header-sci transition-colors ${isActive ? 'text-white text-sm scale-110 origin-left' : 'text-gray-500'}`}>
                                        <GlitchText text={probe.name} isActive={true} speed={100} />
                                    </span>
                                </div>
                            </button>
                        );
                    })}
                </div>
            </div>
        );

        const App = () => {
            const [viewPhase, setViewPhase] = useState(0); 
            const [activeProbeId, setActiveProbeId] = useState('pioneer');
            const [isTransitioning, setIsTransitioning] = useState(false);
            const lastScrollTime = useRef(0);
            
            // *** 추가됨: 스크롤 컨테이너 제어를 위한 ref ***
            const scrollContainerRef = useRef(null);

            // *** 추가됨: 페이지(probe) 변경 시 스크롤 맨 위로 초기화 ***
            useEffect(() => {
                if (scrollContainerRef.current) {
                    scrollContainerRef.current.scrollTop = 0;
                }
            }, [activeProbeId]);

            const handlePhaseChange = (newPhase) => {
                const now = Date.now();
                if (now - lastScrollTime.current < 1000) return;
                lastScrollTime.current = now;
                setIsTransitioning(true);
                setViewPhase(newPhase);
                setTimeout(() => setIsTransitioning(false), 1000);
            };

            const activeProbe = probesData.find(p => p.id === activeProbeId);

            return (
                <div className="relative w-full h-screen overflow-hidden bg-[#0B0B0E]">
                    <StarBackground />
                    <div className="w-full h-full page-transition relative z-10" style={{ transform: `translateY(-${viewPhase * 100}vh)` }}>
                        <div className="w-full h-screen relative">
                            <Hero onNext={() => handlePhaseChange(1)} />
                        </div>
                        <div className="w-full h-screen relative">
                            <Intro isActive={viewPhase === 1} onNext={() => handlePhaseChange(2)} onPrev={() => handlePhaseChange(0)} />
                        </div>
                        <div className="w-full h-screen relative">
                            {/* *** 수정됨: ref 연결 *** */}
                            <div 
                                ref={scrollContainerRef}
                                className="w-full h-full custom-scrollbar overflow-y-auto overflow-x-hidden"
                            >
                                <DetailContent probe={activeProbe} isActive={viewPhase === 2} />
                            </div>
                        </div>
                    </div>
                    <div className={`transition-opacity duration-500 relative z-50 ${viewPhase === 2 ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
                        <NavBar activeId={activeProbeId} onNavigate={setActiveProbeId} />
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>